---
title: "Ontology 설계와 적용 - 지식을 구조화하는 방법"
permalink: /series/on-prem-llm/07-ontology/
date: 2026-02-06
excerpt: "도메인 온톨로지 설계, Knowledge Graph 구축, Neo4j 실전 활용"
categories:
  - AI-ML
tags:
  - Ontology
  - Knowledge Graph
  - Neo4j
  - RDF
series: "온프레미스 LLM 구축"
series_order: 7
---

## 소개

솔직히 얘기하면, RAG만 잘 만들어도 80% 유즈케이스는 커버됩니다. 근데 **나머지 20%** — 다단계 관계 추론, 구조화된 지식 질의 — 이걸 해결하려면 온톨로지가 필요해요.

학계에서 나온 개념이라 어렵게 느껴지는데, 실무적으로 풀어보겠습니다. Neo4j + Cypher 쿼리로 시작하는 게 현실적이에요.

---

## 온톨로지가 필요한 순간

RAG로 안 되는 질문들:

- "B팀이 관리하는 모든 서버에서 돌아가는 애플리케이션 목록" → 다단계 관계
- "A 제품과 호환되는 부품 중에서 재고가 있는 것" → 교차 도메인 질의
- "이 장애가 영향을 미치는 다운스트림 서비스 전체" → 의존성 그래프 탐색

이런 질문은 문서를 아무리 검색해도 답이 안 나옵니다. **관계를 구조화**해야 합니다.

## Entity-Relation 설계

- **Entity(개체)**: 서버, 애플리케이션, 팀, 사람 등
- **Relation(관계)**: "사용한다", "관리한다", "의존한다", "호환된다"
- **Attribute(속성)**: IP, 스펙, 버전, 설치 일자 등
- **Class/Hierarchy**: 인프라 → 서버 → GPU 서버 → A100 서버

## 구현 기술 선택

### Neo4j (실무 추천)

가장 대중적인 그래프 DB. Cypher 쿼리 언어가 직관적이라 SQL 아는 사람이면 금방 배웁니다.

```cypher
// 예시: B팀이 관리하는 서버의 애플리케이션 목록
MATCH (team:Team {name: 'B팀'})-[:MANAGES]->(server:Server)-[:RUNS]->(app:Application)
RETURN server.name, collect(app.name)
```

### RDF/OWL (학계 표준)

W3C 표준. Subject-Predicate-Object 트리플 구조. 정식으로 하려면 이쪽인데, 러닝커브가 가파릅니다.

### Protege

온톨로지를 시각적으로 설계하는 도구. 초기 설계할 때 유용합니다.

## 실무에서 겪는 현실 (삽질 포인트)

- RDF/OWL은 학습 곡선이 가파름. 기존 개발자가 적응하는 데 2~3주
- 온톨로지 설계가 잘못되면 나중에 수정이 매우 고통스러움 → 초기 설계에 시간 투자 필수
- "어디까지 구조화할 건가?"의 범위 설정이 진짜 어려움. 너무 세밀하면 유지보수 불가, 너무 대충하면 의미 없음
- Neo4j Community Edition은 무료인데 클러스터링 안 됨. Enterprise는 라이선스 비용이...
- 기존 데이터(Excel, DB, 위키)를 온톨로지로 변환하는 ETL 작업이 생각보다 대공사
- 도메인 전문가 인터뷰가 필수인데, 전문가들이 바쁘다고 미팅 잡기가 하늘의 별 따기

> **이건 꼭 알아두세요:** 온톨로지는 **점진적으로 구축**해야 합니다. 처음부터 완벽하게 하겠다고 하면 6개월은 설계만 하다 끝납니다. 핵심 Entity 20~30개, Relation 10개 정도로 시작해서 점점 확장하는 게 현실적입니다. RDF/OWL은 필요할 때 가도 늦지 않아요.

---

## TODO

- [ ] 실제 도메인 온톨로지 설계 예시 (IT 인프라 기준)
- [ ] Neo4j 설치 및 초기 데이터 로드 가이드
- [ ] Cypher 쿼리 기초 튜토리얼
- [ ] SPARQL vs Cypher 비교
- [ ] 기존 데이터 → 그래프 변환 ETL 스크립트
- [ ] Protege 사용법 스크린샷

---

*시리즈: 온프레미스 LLM 구축 (7/10)*
